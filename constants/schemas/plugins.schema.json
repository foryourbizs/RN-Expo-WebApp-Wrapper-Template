{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Plugins Configuration",
  "description": "Configuration schema for the WebApp Wrapper plugins",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string"
    },
    "plugins": {
      "type": "object",
      "description": "Plugin configuration",
      "properties": {
        "auto": {
          "type": "array",
          "description": "Auto plugins (npm packages)",
          "items": {
            "type": "object",
            "required": ["name", "namespace"],
            "properties": {
              "name": {
                "type": "string",
                "description": "npm package name (e.g., rnww-plugin-camera)"
              },
              "namespace": {
                "type": "string",
                "description": "Bridge namespace (e.g., 'cam' -> 'cam:action')",
                "minLength": 2,
                "maxLength": 8
              },
              "method": {
                "type": "string",
                "description": "Registration method name (default: 'registerHandlers')"
              },
              "keepModules": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Expo native modules to keep (for prebuild)"
              },
              "options": {
                "type": "object",
                "description": "Plugin-specific options (defined by each plugin's pluginMeta)",
                "additionalProperties": true
              }
            }
          }
        },
        "manual": {
          "type": "array",
          "description": "Manual plugins (local implementations in lib/bridges)",
          "items": {
            "type": "object",
            "required": ["path", "namespace"],
            "properties": {
              "path": {
                "type": "string",
                "description": "Relative path from lib/bridges (e.g., './clipboard')"
              },
              "namespace": {
                "type": "string",
                "description": "Bridge namespace",
                "minLength": 2,
                "maxLength": 8
              },
              "entry": {
                "type": "string",
                "description": "Entry file name (default: 'index.ts')"
              },
              "method": {
                "type": "string",
                "description": "Registration method name (default: 'register{Namespace}Handlers')"
              }
            }
          }
        }
      }
    }
  }
}
